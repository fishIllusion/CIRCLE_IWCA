{"ast":null,"code":"import { h, render } from 'vue';\nimport Menu from '@/pages/addMenu.vue';\nexport function openContextMenu() {\n  let isOpen = false;\n  const containerEl = document.createElement('div');\n  containerEl.style.position = 'absolute';\n  containerEl.style.top = '0px';\n  //创建虚拟DOM节点\n  const vnode = h(Menu);\n  function openMenu(e) {\n    closeMenu();\n    let X = e.clientX;\n    let Y = e.clientY;\n    // console.log(X, Y);\n    containerEl.style.top = Y + 'px';\n    containerEl.style.left = X + 'px';\n    const scope = document.getElementById('testPC');\n    //将刚刚创建的虚拟DOM节点渲染到contianerEl中\n    render(vnode, containerEl);\n    scope.appendChild(containerEl);\n    isOpen = true;\n  }\n  function closeMenu() {\n    if (isOpen) {\n      // console.log(isOpen);\n      const scope = document.getElementById('testPC');\n      render(null, containerEl);\n      scope.removeChild(containerEl);\n      isOpen = false;\n    }\n  }\n  function closeDirectly() {\n    const scope = document.getElementById('testPC');\n    // console.log(document);\n    // console.log(scope);\n    const containerEl = document.createElement('div');\n    render(null, containerEl);\n    scope.removeChild(containerEl);\n    isOpen = false;\n  }\n  return {\n    isOpen,\n    openMenu,\n    closeMenu,\n    closeDirectly\n  };\n}","map":{"version":3,"names":["h","render","Menu","openContextMenu","isOpen","containerEl","document","createElement","style","position","top","vnode","openMenu","e","closeMenu","X","clientX","Y","clientY","left","scope","getElementById","appendChild","removeChild","closeDirectly"],"sources":["/Users/a1807292313/GIT/CIRCLE_IWCA/src/utils/openMenu.js"],"sourcesContent":["import { h, render } from 'vue'\nimport Menu from '@/pages/addMenu.vue'\nexport function openContextMenu() {\n     let isOpen = false\n     const containerEl = document.createElement('div')\n     containerEl.style.position = 'absolute'\n     containerEl.style.top = '0px'\n     //创建虚拟DOM节点\n     const vnode = h(Menu)\n     \n     function openMenu(e) {\n          closeMenu()\n          let X = e.clientX\n          let Y = e.clientY\n          // console.log(X, Y);\n          containerEl.style.top = Y + 'px'\n          containerEl.style.left = X + 'px'\n          const scope = document.getElementById('testPC')\n          //将刚刚创建的虚拟DOM节点渲染到contianerEl中\n          render(vnode, containerEl)\n          scope.appendChild(containerEl)\n          isOpen = true\n     }\n\n     function closeMenu() {\n          if (isOpen) {\n               // console.log(isOpen);\n               const scope = document.getElementById('testPC')\n               render(null, containerEl)\n               scope.removeChild(containerEl)\n               isOpen = false\n          }\n     }\n\n     function closeDirectly() {\n          const scope = document.getElementById('testPC')\n          // console.log(document);\n          // console.log(scope);\n          const containerEl = document.createElement('div')\n               render(null, containerEl)\n               scope.removeChild(containerEl)\n               isOpen = false\n     }\n     return {\n          isOpen,\n          openMenu,\n          closeMenu,\n          closeDirectly\n     }\n}"],"mappings":"AAAA,SAASA,CAAC,EAAEC,MAAM,QAAQ,KAAK;AAC/B,OAAOC,IAAI,MAAM,qBAAqB;AACtC,OAAO,SAASC,eAAeA,CAAA,EAAG;EAC7B,IAAIC,MAAM,GAAG,KAAK;EAClB,MAAMC,WAAW,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EACjDF,WAAW,CAACG,KAAK,CAACC,QAAQ,GAAG,UAAU;EACvCJ,WAAW,CAACG,KAAK,CAACE,GAAG,GAAG,KAAK;EAC7B;EACA,MAAMC,KAAK,GAAGX,CAAC,CAACE,IAAI,CAAC;EAErB,SAASU,QAAQA,CAACC,CAAC,EAAE;IAChBC,SAAS,CAAC,CAAC;IACX,IAAIC,CAAC,GAAGF,CAAC,CAACG,OAAO;IACjB,IAAIC,CAAC,GAAGJ,CAAC,CAACK,OAAO;IACjB;IACAb,WAAW,CAACG,KAAK,CAACE,GAAG,GAAGO,CAAC,GAAG,IAAI;IAChCZ,WAAW,CAACG,KAAK,CAACW,IAAI,GAAGJ,CAAC,GAAG,IAAI;IACjC,MAAMK,KAAK,GAAGd,QAAQ,CAACe,cAAc,CAAC,QAAQ,CAAC;IAC/C;IACApB,MAAM,CAACU,KAAK,EAAEN,WAAW,CAAC;IAC1Be,KAAK,CAACE,WAAW,CAACjB,WAAW,CAAC;IAC9BD,MAAM,GAAG,IAAI;EAClB;EAEA,SAASU,SAASA,CAAA,EAAG;IAChB,IAAIV,MAAM,EAAE;MACP;MACA,MAAMgB,KAAK,GAAGd,QAAQ,CAACe,cAAc,CAAC,QAAQ,CAAC;MAC/CpB,MAAM,CAAC,IAAI,EAAEI,WAAW,CAAC;MACzBe,KAAK,CAACG,WAAW,CAAClB,WAAW,CAAC;MAC9BD,MAAM,GAAG,KAAK;IACnB;EACL;EAEA,SAASoB,aAAaA,CAAA,EAAG;IACpB,MAAMJ,KAAK,GAAGd,QAAQ,CAACe,cAAc,CAAC,QAAQ,CAAC;IAC/C;IACA;IACA,MAAMhB,WAAW,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC5CN,MAAM,CAAC,IAAI,EAAEI,WAAW,CAAC;IACzBe,KAAK,CAACG,WAAW,CAAClB,WAAW,CAAC;IAC9BD,MAAM,GAAG,KAAK;EACxB;EACA,OAAO;IACFA,MAAM;IACNQ,QAAQ;IACRE,SAAS;IACTU;EACL,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}